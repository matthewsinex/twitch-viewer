!function(t){var n={};function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)e.d(i,a,function(n){return t[n]}.bind(null,a));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=11)}({11:function(t,n){(function(){var t,n,e,i=[],a=[],r=[];function l(t){t.preventDefault(),i=[],a=[],0,0,function t(n,l){var c=`http://localhost:9000/follows?from_id=${n}`;l&&(c+=`&after=${l}`);return $.ajax({url:c}).done(function(l){if(i=[...i,...l.data],20==l.data.length){var c=l.pagination.cursor;t(n,c)}else u=i.map(t=>t.to_name),r=function(t,n){for(var e=[],i=0,a=t.length;i<a;)e.push(t.slice(i,i+=n));return e}(u,100),function t(){if(r.length>0){var n=r[0].join("&user_login="),i=`http://localhost:9000/streams?user_login=${n}`;$.ajax({url:i}).done(function(n){a=[...a,...n.data],r.shift(),t()}).fail(function(t){console.log(t),alert("error")})}else!function(){var t;a.sort((t,n)=>t.viewer_count>n.viewer_count?-1:1),(t=`http://localhost:9000/games?id=${a.map(t=>t.game_id).join("&id=")}`,$.ajax({url:t})).then(function(t){var n;t.data.forEach(t=>{var n=a.filter(n=>n.game_id==t.id);n.forEach(n=>n.game_name=t.name)}),n=`\n    <div class="card">\n      <header class="card-header">\n        <p class="card-header-title">\n          Live Streams\n        </p>\n      </header>\n      <div class="card-content">\n        <table class='table is-narrow is-striped'>\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Game</th>\n              <th>Title</th>\n              <th>Viewers</th>\n              <th>Add to List</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${function(t){let n="";return t.forEach(function(t){n+=`<tr>\n                  <td>\n                    <a href="${"https://www.twitch.tv/"+t.user_name}">\n                      ${t.user_name}\n                    </a>\n                  </td>\n                  <td>${t.game_name}</td>\n                  <td>${t.title}</td>\n                  <td class="has-text-right">${t.viewer_count}</td>\n                  <td class="has-text-right">\n                    <label class="checkbox">\n                      <input\n                        type="checkbox"\n                        class="live-stream-checkbox"\n                        value="${t.user_name}"\n                      >\n                    </label>\n                  </td>\n                  </tr>`}),n}(a)}\n          </tbody>\n        </table>\n\n        <div class="field">\n          <div class="control">\n            <button class="button is-link" id="createLinksButton">Create Links</button>\n          </div>\n        </div>\n        <div id="multi-twitch-target" class="content"></div>\n        <div id="live-chat-links" class="content"></div>\n      </div>\n    </div>\n    `,$("#live-target").html(n),$("#multi-twitch-target").html('\n    <div class="field is-hidden" id="multiTwitchField">\n      <label class="label">MultiTwitch</label>\n      <div class="control">\n        <a id="multiTwitchLink">MultiTwitch Link</a>\n      </div>\n    </div>\n    '),e=$(".live-stream-checkbox"),$createLinksButton=$("#createLinksButton"),$multiTwitchField=$("#multiTwitchField"),$multiTwitchLink=$("#multiTwitchLink"),$createLinksButton.on("click",o)})}()}();var u}).fail(function(t){console.log(t),alert("error")})}(n.val(),"")}function o(t){var n=c();$multiTwitchField.removeClass("is-hidden");var e,i=`http://www.multitwitch.tv/${n.join("/")}`;$multiTwitchLink.attr("href",i),e=`\n      <div class="field">\n        <label class="label">Chat Links</label>\n        <div class="control">\n          ${function(t){let n="";return t.forEach(function(t){n+=`\n      <div class="field is-grouped">\n        <a\n          href="https://www.twitch.tv/popout/${t}/chat?darkpopout"\n        >\n          ${t}\n        </a>\n      </div>\n      `}),n}(c())}\n        </div>\n      </div>\n    `,$("#live-chat-links").html(e)}function c(){var t=e.filter(function(t,n){return n.checked});return $.makeArray(t).map(t=>t.value)}return{init:function(){t=$("#form"),n=$("#user-id-input"),t.on("submit",l)}}})().init()}});